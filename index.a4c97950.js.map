{"mappings":"AAWA,IAAIA,EAAU,GACVC,EAAc,GACdC,EAAU,GACVC,EAAa,GACbC,EAAY,GAEhB,MAAMC,EAAOC,SAASC,cAAc,iBAC9BC,EAAQF,SAASC,cAAc,eAC/BE,EAAOH,SAASC,cAAc,iBAEpCC,EAAME,iBACJ,QACAC,UAAS,KASX,IAAwBC,IARLJ,EAAMK,MAAMC,OAStBC,MACL,uCAAuCH,qDAEtCI,MAAKC,GAASA,EAAMC,SACpBF,MAAKG,IACJA,EAAKC,SAAQ,KACXC,GAAS,CAAC,IAGLF,KAERH,MAAKM,GACJA,EAAIC,KAAIC,IACNxB,EAAUwB,EAAQC,MAAMC,IACxBzB,EAAcuB,EAAQZ,KAAKe,OAC3BzB,EAAUsB,EAAQI,QAAQ,GAC1BzB,EAAaqB,EAAQK,WACrBzB,EAAYoB,EAAQM,UAAU,GAEhB,IAAVT,EAgCVhB,EAAK0B,mBACH,aACA,oCAAoC/B,4CAC7BC,0EAEwBC,+CACGC,8CACDC,uBArClBiB,GAAS,GAAKA,GAAS,GAuBxCZ,EAAKsB,mBACH,aACA,mBAAmB/B,0CAAgDC,cAvBnDO,EAAMK,MAAQ,GAAG,MAIhCG,MAAK,KACAK,EAAQ,IAoChBW,SAASC,OAAOC,KACd,6DApCgB,IAGfC,OAAM,KAsCTH,SAASC,OAAOG,QAAQ,2CArCL,GA1CiB,GAff,MAmBvB5B,EAAME,iBAAiB,WA0CvB,WACED,EAAK4B,UAAY,GACjBhC,EAAKgC,UAAY,GACjBhB,EAAQ,C,IA3CV,IAAIA,EAAQ","sources":["src/index.js"],"sourcesContent":["// 1. вынести в отдеьную функцию\n// 2. прблема с языком\n// 3 после каждого обновления инпута - обнули разметку\n\nimport './css/styles.css';\n// import fetchCountries from \"./fetchCountries\";\n// import debounce from \"lodash.debounce\";\n// import Notiflix from \"notiflix\";\n\nconst DEBOUNCE_DELAY = 300;\n\nlet svgFlag = '';\nlet nameCountry = '';\nlet capital = '';\nlet population = '';\nlet languages = '';\n\nconst list = document.querySelector('.country-list');\nconst input = document.querySelector('#search-box');\nconst info = document.querySelector('.country-info');\n\ninput.addEventListener(\n  'input',\n  debounce(() => {\n    fetchCountries(input.value.trim());\n  }, DEBOUNCE_DELAY)\n);\n\ninput.addEventListener('keydown', resetContainer);\n\nlet count = 0;\n\nfunction fetchCountries(name) {\n  return fetch(\n    `https://restcountries.com/v3.1/name/${name}?&fields=name,capital,population,flags,languages`\n  )\n    .then(array => array.json())\n    .then(item => {\n      item.forEach(() => {\n        count += 1;\n      });\n\n      return item;\n    })\n    .then(smt =>\n      smt.map(country => {\n        svgFlag = country.flags.svg;\n        nameCountry = country.name.common;\n        capital = country.capital[0];\n        population = country.population;\n        languages = country.languages[0];\n\n        if (count === 1) {\n          createMarkupCountryInfo();\n        } else if (count >= 2 && count <= 10) {\n          createMarkupCountryList();\n        } else if ((input.value = ' ')) {\n        }\n      })\n    )\n    .then(() => {\n      if (count > 10) {\n        infoWindow();\n      }\n    })\n    .catch(() => {\n      failureWindow();\n    });\n}\n\nfunction resetContainer() {\n  info.innerHTML = '';\n  list.innerHTML = '';\n  count = 0;\n}\n\nfunction createMarkupCountryList() {\n  info.insertAdjacentHTML(\n    'afterbegin',\n    `<li><img src = \"${svgFlag}\" width=\"30px\" height=\"100%\"></img><p>${nameCountry}</p></li>`\n  );\n}\n\nfunction createMarkupCountryInfo() {\n  list.insertAdjacentHTML(\n    'afterbegin',\n    `<div class = \"content\"><img src=\"${svgFlag}\" width=\"60px\" height=\"100%\">\n      <p>${nameCountry}</p></div>\n      <ul class=\"list\">\n        <li><span>Capital:</span>${capital}</li>\n        <li><span>Population:</span>${population}</li>\n        <li><span>Languages:</span>${languages}</li>\n      </ul>`\n  );\n}\n\nfunction infoWindow() {\n  Notiflix.Notify.info(\n    'Too many matches found. Please enter a more specific name.'\n  );\n}\n\nfunction failureWindow() {\n  Notiflix.Notify.failure('Oops, there is no country with that name');\n}\n\nfunction emptyInput() {\n  if ((input.value = ' ')) {\n    console.log('ddd');\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$svgFlag","$1f0dc3b9307be026$var$nameCountry","$1f0dc3b9307be026$var$capital","$1f0dc3b9307be026$var$population","$1f0dc3b9307be026$var$languages","$1f0dc3b9307be026$var$list","document","querySelector","$1f0dc3b9307be026$var$input","$1f0dc3b9307be026$var$info","addEventListener","debounce","name","value","trim","fetch","then","array","json","item","forEach","$1f0dc3b9307be026$var$count","smt","map","country","flags","svg","common","capital","population","languages","insertAdjacentHTML","Notiflix","Notify","info","catch","failure","innerHTML"],"version":3,"file":"index.a4c97950.js.map"}
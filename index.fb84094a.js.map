{"mappings":"YASA,IAEIA,EAAU,GACVC,EAAc,GACdC,EAAU,GACVC,EAAa,GACbC,EAAY,GAEVC,EAAOC,SAASC,cAAc,iBAC9BC,EAAQF,SAASC,cAAc,eAC/BE,EAAOH,SAASC,cAAc,iBAEpCC,EAAME,iBACJ,QACAC,UAAS,WASX,IAAwBC,IARLJ,EAAMK,MAAMC,OAStBC,MACL,uCAA4CC,OAALJ,EAAK,qDAE3CK,MAAK,SAAAC,G,OAASA,EAAMC,M,IACpBF,MAAK,SAAAG,GAKJ,OAJAA,EAAKC,SAAQ,WACXC,GAAS,C,IAGJF,C,IAERH,MAAK,SAAAM,G,OACJA,EAAIC,KAAI,SAAAC,GACNzB,EAAUyB,EAAQC,MAAMC,IACxB1B,EAAcwB,EAAQb,KAAKgB,OAC3B1B,EAAUuB,EAAQI,QAAQ,GAC1B1B,EAAasB,EAAQK,WACrB1B,EAAYqB,EAAQM,UAAU,GAEhB,IAAVT,EAgCVjB,EAAK2B,mBACH,aACA,oCACOhB,OAD6BhB,EAAQ,4CAGbgB,OAFxBf,EAAY,0EAGee,OADHd,EAAQ,+CAENc,OADCb,EAAW,8CACFa,OAAVZ,EAAU,uBArC5BkB,GAAS,GAAKA,GAAS,GAuBxCb,EAAKuB,mBACH,aACA,mBAAmEhB,OAAhDhB,EAAQ,0CAAoDgB,OAAZf,EAAY,cAvB/DO,EAAMK,MAAQ,G,OAI7BI,MAAK,WACAK,EAAQ,IAoChBW,SAASC,OAAOC,KACd,6D,IAjCCC,OAAM,WAsCTH,SAASC,OAAOG,QAAQ,2C,MA9FH,MAmBvB7B,EAAME,iBAAiB,WA0CvB,WACED,EAAK6B,UAAY,GACjBjC,EAAKiC,UAAY,GACjBhB,EAAQ,C,IA3CV,IAAIA,EAAQ,C","sources":["src/index.js"],"sourcesContent":["// 1. вынести в отдеьную функцию\n// 2. прблема с языком\n// 3 после каждого обновления инпута - обнули разметку\n\nimport './css/styles.css';\n// import fetchCountries from \"./fetchCountries\";\n// import debounce from \"lodash.debounce\";\n// import Notiflix from \"notiflix\";\n\nconst DEBOUNCE_DELAY = 300;\n\nlet svgFlag = '';\nlet nameCountry = '';\nlet capital = '';\nlet population = '';\nlet languages = '';\n\nconst list = document.querySelector('.country-list');\nconst input = document.querySelector('#search-box');\nconst info = document.querySelector('.country-info');\n\ninput.addEventListener(\n  'input',\n  debounce(() => {\n    fetchCountries(input.value.trim());\n  }, DEBOUNCE_DELAY)\n);\n\ninput.addEventListener('keydown', resetContainer);\n\nlet count = 0;\n\nfunction fetchCountries(name) {\n  return fetch(\n    `https://restcountries.com/v3.1/name/${name}?&fields=name,capital,population,flags,languages`\n  )\n    .then(array => array.json())\n    .then(item => {\n      item.forEach(() => {\n        count += 1;\n      });\n\n      return item;\n    })\n    .then(smt =>\n      smt.map(country => {\n        svgFlag = country.flags.svg;\n        nameCountry = country.name.common;\n        capital = country.capital[0];\n        population = country.population;\n        languages = country.languages[0];\n\n        if (count === 1) {\n          createMarkupCountryInfo();\n        } else if (count >= 2 && count <= 10) {\n          createMarkupCountryList();\n        } else if ((input.value = ' ')) {\n        }\n      })\n    )\n    .then(() => {\n      if (count > 10) {\n        infoWindow();\n      }\n    })\n    .catch(() => {\n      failureWindow();\n    });\n}\n\nfunction resetContainer() {\n  info.innerHTML = '';\n  list.innerHTML = '';\n  count = 0;\n}\n\nfunction createMarkupCountryList() {\n  info.insertAdjacentHTML(\n    'afterbegin',\n    `<li><img src = \"${svgFlag}\" width=\"30px\" height=\"100%\"></img><p>${nameCountry}</p></li>`\n  );\n}\n\nfunction createMarkupCountryInfo() {\n  list.insertAdjacentHTML(\n    'afterbegin',\n    `<div class = \"content\"><img src=\"${svgFlag}\" width=\"60px\" height=\"100%\">\n      <p>${nameCountry}</p></div>\n      <ul class=\"list\">\n        <li><span>Capital:</span>${capital}</li>\n        <li><span>Population:</span>${population}</li>\n        <li><span>Languages:</span>${languages}</li>\n      </ul>`\n  );\n}\n\nfunction infoWindow() {\n  Notiflix.Notify.info(\n    'Too many matches found. Please enter a more specific name.'\n  );\n}\n\nfunction failureWindow() {\n  Notiflix.Notify.failure('Oops, there is no country with that name');\n}\n\nfunction emptyInput() {\n  if ((input.value = ' ')) {\n    console.log('ddd');\n  }\n}\n"],"names":["$b8f9b7833fa37166$var$svgFlag","$b8f9b7833fa37166$var$nameCountry","$b8f9b7833fa37166$var$capital","$b8f9b7833fa37166$var$population","$b8f9b7833fa37166$var$languages","$b8f9b7833fa37166$var$list","document","querySelector","$b8f9b7833fa37166$var$input","$b8f9b7833fa37166$var$info","addEventListener","debounce","name","value","trim","fetch","concat","then","array","json","item","forEach","$b8f9b7833fa37166$var$count","smt","map","country","flags","svg","common","capital","population","languages","insertAdjacentHTML","Notiflix","Notify","info","catch","failure","innerHTML"],"version":3,"file":"index.fb84094a.js.map"}